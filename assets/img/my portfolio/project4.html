<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deep Life Expectancy: Unlocking the Secrets to a Longer Life</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4A90E2;
            --secondary: #2C3E50;
            --accent: #28a745;
            --highlight: #FF5733;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f8f8;
            color: #333;
            scroll-behavior: smooth;
        }
        .header {
            background: linear-gradient(135deg, var(--primary), #2C3E50);
            color: white;
            padding: 3rem 0;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            pointer-events: none;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .section-title {
            position: relative;
            color: var(--secondary);
            font-size: 2.25rem;
            font-weight: 700;
            margin-bottom: 2.5rem;
            text-align: center;
            display: inline-block;
        }
        .section-title::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--highlight);
            border-radius: 2px;
        }
        /* Main document card style */
        .card {
            background-color: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease-in-out;
            border-left: 4px solid var(--primary);
        }
        .card:hover {
            transform: translateY(-7px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }
        .sub-heading {
            color: var(--primary);
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .sub-heading i {
            color: var(--highlight);
        }
        .text-content {
            line-height: 1.7;
            font-size: 1.05rem;
            color: #555;
        }
        .list-item {
            margin-bottom: 0.75rem;
            line-height: 1.6;
            position: relative;
            padding-left: 1.5rem;
        }
        .list-item::before {
            content: "â€¢";
            color: var(--highlight);
            font-weight: bold;
            position: absolute;
            left: 0;
            top: 0;
        }
        .button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(to right, var(--accent), #1e7e34);
            color: white;
            padding: 0.9rem 2.2rem;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        .button::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        .button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(40, 167, 69, 0.4);
        }
        .button:hover::before {
            left: 100%;
        }
        .footer {
            background: linear-gradient(to right, var(--secondary), #1a2530);
            color: white;
            padding: 3rem 0;
            margin-top: 3rem;
            text-align: center;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            position: relative;
        }
        /* Horizontal Timeline Styles for Methodology Section */
        .timeline-section {
            background: linear-gradient(135deg, #4A90E2, #2C3E50);
            border-radius: 15px;
            margin: 3rem 0;
            position: relative;
            overflow: hidden;
            padding-top: 50px;
            padding-bottom: 50px;
            text-align: center; /* Center the section title */
        }
        .timeline-section::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.1;
        }
        /* New wrapper for absolute positioned timeline elements */
        .timeline-wrapper {
            position: relative;
            max-width: 1000px; /* Same as timeline-container max-width */
            margin: 0 auto;
            min-height: 450px; /* Increased min-height to ensure bullets are visible */
        }
        .timeline-line {
            position: absolute;
            top: 350px; /* Base top for the line */
            left: 50px;
            right: 50px;
            height: 4px;
            background: linear-gradient(to right, rgba(255,255,255,0.3), rgba(255,255,255,0.8), rgba(255,255,255,0.3));
            z-index: 1;
            border-radius: 2px;
        }
        .timeline-steps {
            display: flex;
            justify-content: space-between;
            position: absolute; /* Position relative to timeline-wrapper */
            top: 350px; /* Aligns with the line's top */
            left: 50px;
            right: 50px;
            /* Removed transform: translateY(-50%) to align with the top of the line */
            z-index: 3;
            width: calc(100% - 100px); /* Adjust width to match line and container padding */
        }
        .timeline-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
            position: relative; /* For dot and label positioning within step */
        }
        .timeline-dot {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: white;
            border: 3px solid rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            position: relative;
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 0 8px rgba(255, 255, 255, 0.1);
            /* Align the center of the dot with the center of the line */
            transform: translateY(-50%); /* This centers the dot vertically on its own line within the flex container */
            margin-bottom: 10px; /* Space between dot and label */
        }
        .timeline-dot::after {
            content: "";
            position: absolute;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: var(--primary);
            transform: scale(0);
            transition: transform 0.3s ease-in-out;
        }
        .timeline-dot.active-dot {
            transform: scale(1.2) translateY(-50%); /* Keep translateY for centering */
            box-shadow: 0 0 0 12px rgba(255, 255, 255, 0.2);
        }
        .timeline-dot.active-dot::after {
            transform: scale(1);
            background: var(--highlight);
        }
        .timeline-dot:hover {
            transform: scale(1.3) translateY(-50%); /* Keep translateY for centering */
            box-shadow: 0 0 0 12px rgba(255, 255, 255, 0.3);
        }
        .timeline-label {
            white-space: nowrap;
            font-size: 0.9rem;
            color: white;
            font-weight: 600;
            text-align: center;
            opacity: 0.9;
            transition: all 0.3s ease;
        }
        .timeline-dot:hover + .timeline-label {
            opacity: 1;
            transform: translateY(-3px);
        }
        /* Central Rectangle Box */
        .timeline-display-box {
            position: absolute; /* Position relative to timeline-wrapper */
            top: 40px; /* Space from top of timeline-wrapper */
            left: 50%; /* Center horizontally */
            transform: translateX(-50%); /* Adjust for true centering */
            width: 700px; /* Fixed width for the rectangle */
            height: 250px; /* Fixed height for the rectangle */
            background: white;
            border-radius: 15px; /* Rounded corners */
            padding: 1.8rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 5; /* Ensure it's above the line */
            border: 2px solid var(--primary); /* Rectangle border */
            overflow: hidden; /* Hide overflowing content for smooth transitions */
        }
        .timeline-display-box::after {
            content: ""; /* No arrow on the main central box */
            display: none;
        }
        .timeline-content-item {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 1.8rem; /* Padding inside the content item */
            box-sizing: border-box; /* Include padding in width/height */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
            transform: translateY(20px); /* Initial state for animation */
            overflow-y: auto; /* Enable scroll for content within the item */
        }
        .timeline-content-item.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0); /* Final state for animation */
        }
        .step-number {
            position: absolute; /* Relative to .timeline-content-item */
            top: 15px;
            left: 15px;
            width: 40px;
            height: 40px;
            background: var(--highlight);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 4px 10px rgba(255, 87, 51, 0.3);
            z-index: 5;
        }
        .timeline-content-item .sub-heading {
            margin-top: 30px; /* Space for step number */
        }
        @media (max-width: 768px) {
            .timeline-section {
                padding-top: 180px; /* Adjusted padding-top for mobile */
                padding-bottom: 60px;
            }
            .timeline-wrapper {
                min-height: 380px; /* Adjusted min-height for mobile to make bullets visible */
            }
            .timeline-line {
                top: 250px; /* Adjusted top for mobile */
                left: 20px;
                right: 20px;
                width: calc(100% - 40px);
            }
            .timeline-steps {
                top: 250px; /* Align with the line's top for mobile */
                left: 20px;
                right: 20px;
                /* transform: translateY(-50%); REMOVED for mobile too */
                justify-content: flex-start;
                padding: 0 20px;
                width: max-content;
            }
            .timeline-step {
                flex-shrink: 0;
                margin-right: 40px;
            }
            .timeline-dot {
                width: 20px;
                height: 20px;
                border: 2px solid rgba(255, 255, 255, 0.8);
                transform: translateY(-50%); /* Keep translateY for centering */
            }
            .timeline-dot::after {
                width: 12px;
                height: 12px;
            }
            .timeline-label {
                font-size: 0.8rem;
                top: 35px;
                position: relative;
                white-space: normal;
                width: 80px;
            }
            .timeline-display-box {
                width: 90%; /* Wider on mobile */
                height: 180px; /* Adjusted height for mobile */
                top: 20px; /* Adjusted top for mobile */
                left: 50%;
                transform: translateX(-50%);
                padding: 1rem;
            }
            .step-number {
                top: 10px;
                left: 10px;
            }
            .timeline-content-item .sub-heading {
                margin-top: 25px;
            }
        }
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        .fade-in.appear {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* New enhancements */
        .stat-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.9), rgba(245,245,245,0.9));
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(74, 144, 226, 0.15);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        }
        
        .stat-label {
            font-size: 1rem;
            color: var(--secondary);
            font-weight: 600;
            margin-bottom: 0.5rem;
            opacity: 0.8;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            line-height: 1;
            margin-bottom: 0.5rem;
        }
        
        .insight-highlight {
            background: linear-gradient(to right, rgba(74, 144, 226, 0.1), rgba(42, 157, 244, 0.1));
            border-left: 4px solid var(--primary);
            padding: 1.25rem;
            border-radius: 0 8px 8px 0;
            margin: 1.5rem 0;
        }
        
        .factor-group {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        
        .factor-group:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }
        
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            z-index: 100;
        }
        
        .back-to-top.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .back-to-top:hover {
            background: var(--secondary);
            transform: translateY(-3px);
        }
        
        .dashboard-button-group {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .dashboard-button {
            flex: 1;
            min-width: 250px;
            max-width: 300px;
            text-align: center;
        }
        
        .country-comparison {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 2rem 0;
            padding: 1.5rem;
            background: linear-gradient(to right, rgba(255,255,255,0.95), rgba(245,245,245,0.95));
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .comparison-bar {
            height: 60px;
            width: 90%;
            background: linear-gradient(to right, #FF5733, #4A90E2);
            border-radius: 30px;
            margin: 1.5rem 0;
            position: relative;
            overflow: hidden;
        }
        
        .comparison-bar::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 76.5%; /* PNG:64.91 vs JPN:84.09 -> 64.91/84.09 = ~77% */
            background: rgba(255,255,255,0.3);
        }
        
        .comparison-labels {
            display: flex;
            justify-content: space-between;
            width: 90%;
            font-weight: 600;
            color: var(--secondary);
        }
        
        .comparison-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
            margin-top: 0.5rem;
        }
        
        .feature-importance-chart {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 2rem 0;
        }
        
        .feature-bar {
            display: flex;
            align-items: center;
            height: 40px;
            background: rgba(74, 144, 226, 0.1);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }
        
        .feature-name {
            width: 240px;
            padding: 0 15px;
            font-weight: 600;
            color: var(--secondary);
            z-index: 2;
        }
        
        .feature-value {
            position: absolute;
            right: 15px;
            color: var(--secondary);
            font-weight: 600;
            z-index: 2;
        }
        
        .feature-fill {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(to right, var(--primary), var(--accent));
            border-radius: 20px;
            transition: width 1s ease;
        }
        
        .region-map {
            width: 100%;
            height: 300px;
            background: linear-gradient(145deg, #e6f0ff, #d1e3ff);
            border-radius: 15px;
            margin: 2rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .map-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/East_Asia_%28orthographic_projection%29.svg/1200px-East_Asia_%28orthographic_projection%29.svg.png') center/contain no-repeat;
            opacity: 0.2;
        }
        
        .map-content {
            text-align: center;
            z-index: 2;
            padding: 20px;
        }
        
        .map-content h3 {
            font-size: 1.8rem;
            color: var(--secondary);
            margin-bottom: 1rem;
        }
        
        .map-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
        }
        
        .map-stat {
            background: rgba(255,255,255,0.9);
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
        }
        
        .map-stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .map-stat-label {
            font-size: 0.9rem;
            color: var(--secondary);
            font-weight: 600;
        }

        /* Dashboard-specific styles */
        /* Note: body and .container styles from dashboard are intentionally excluded to avoid conflicts */
        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        /* Dashboard card style - this will apply to cards within the dashboard content */
        /* Adjusted for light background */
        .card {
            background-color: white; /* Changed from rgba(255, 255, 255, 0.15) */
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(74, 144, 226, 0.15); /* Light border matching primary */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            /* Override main document's card border-left for inner cards */
            border-left: 4px solid var(--primary); /* Retain primary accent border */
            color: #333; /* Ensure text is dark for readability */
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .card h2 {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: var(--primary); /* Changed from #ffd700 for better integration */
        }

        .baseline-info {
            background: linear-gradient(135deg, var(--primary) 0%, #764ba2 100%); /* Adjusted gradient */
            text-align: center;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            color: white; /* Keep white for contrast */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); /* Added shadow for depth */
        }

        .baseline-info h2 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: white; /* Keep white for baseline h2 */
        }

        .baseline-info .value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ffd700; /* Keep gold accent */
        }

        .correlation-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .correlation-positive {
            background-color: white; /* Changed for light background */
            border-left: 4px solid #38ef7d; /* Green accent */
            color: #333; /* Dark text for readability */
        }

        .correlation-negative {
            background-color: white; /* Changed for light background */
            border-left: 4px solid #fc466b; /* Red accent */
            color: #333; /* Dark text for readability */
        }

        .correlation-item {
            background: rgba(230, 240, 255, 0.5); /* Lighter background for items */
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            color: #333; /* Dark text for readability */
        }

        .correlation-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary); /* Changed to primary color */
        }

        .feature-importance {
            background-color: white; /* Changed for light background */
            border-left: 4px solid var(--highlight); /* Highlight accent */
            color: #333; /* Dark text for readability */
        }

        .feature-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05); /* Lighter border */
        }

        .feature-item:last-child {
            border-bottom: none;
        }

        .coefficient {
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 20px;
            background: rgba(0, 0, 0, 0.05); /* Softer background */
        }

        .positive { color: #28a745; } /* Match accent color */
        .negative { color: #dc3545; } /* Standard red */

        .projection-section {
            background: linear-gradient(135deg, #e6f0ff 0%, #d1e3ff 100%); /* Lighter, subtle blue gradient */
            color: #1a1a1a;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(74, 144, 226, 0.15);
        }

        .projection-section h2 {
            color: var(--secondary); /* Darker heading for contrast */
            margin-bottom: 15px;
        }

        .scenario-result {
            background: rgba(74, 144, 226, 0.1); /* Lighter, primary-based background */
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid var(--primary); /* Primary color border */
            color: #333; /* Ensure text is readable */
        }

        .comparison-table {
            background: white; /* Changed for light background */
            border-radius: 10px;
            overflow: hidden;
            margin-top: 20px;
            color: #333; /* Ensure text is dark for readability */
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08); /* Lighter border */
        }

        .comparison-table th {
            background: rgba(74, 144, 226, 0.1); /* Primary-based header background */
            font-weight: bold;
            color: var(--secondary); /* Dark text for headers */
        }

        .performance-gap {
            color: var(--highlight); /* Use highlight color */
            font-weight: bold;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Applying fadeInUp to dashboard cards when loaded */
        .card {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        /* Adjusted for the internal cards within the main card */
        .card .card:nth-child(1) { animation-delay: 0.1s; }
        .card .card:nth-child(2) { animation-delay: 0.2s; }
        .card .card:nth-child(3) { animation-delay: 0.3s; }
        .card .card:nth-child(4) { animation-delay: 0.4s; }


        @media (max-width: 768px) {
            .correlation-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            /* Main container padding for smaller screens */
            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body class="antialiased">
    <a href="#" class="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </a>
    <header class="header">
        <div class="container text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">DEEP Life Expectancy Project</h1>
            <p class="text-xl md:text-2xl italic">"The Longevity Puzzle: Unlocking the Secrets to a Longer Life in East Asia & Pacific"</p>
            <p class="text-lg mt-4">By Kristianto</p>
        </div>
    </header>
    <main class="container py-12">
        <section class="mb-16 fade-in">
            <h2 class="section-title">Executive Summary</h2>
            <div class="card">
                <p class="text-content mb-4">This research project aims to understand the factors influencing variations in life expectancy across different countries, specifically focusing on the East Asia & Pacific region.</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 my-8">
                    <div class="stat-card">
                        <div class="stat-label">Countries Analyzed</div>
                        <div class="stat-value">28</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Data Features</div>
                        <div class="stat-value">50+</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Years Covered</div>
                        <div class="stat-value">20</div>
                    </div>
                </div>
                <h3 class="sub-heading"><i class="fas fa-bullseye"></i> Objectives:</h3>
                <ul class="text-content mb-6">
                    <li class="list-item">Describe the variation in life expectancy in East Asia & Pacific.</li>
                    <li class="list-item">Identify key factors influencing life expectancy.</li>
                </ul>
                <h3 class="sub-heading"><i class="fas fa-tools"></i> Tools Used:</h3>
                <ul class="text-content mb-6">
                    <li class="list-item"><strong>Python:</strong> For Data Analysis and Machine Learning</li>
                    <li class="list-item"><strong>Streamlit:</strong> For effective visual methode, prediction and interpreting insights through visualization</li>
                    <li class="list-item"><strong>Tableau:</b> For interpreting insights through visualization</li>
                </ul>
                <h3 class="sub-heading"><i class="fas fa-chart-line"></i> Performance Metrics</h3>
                <ul class="text-content mb-4">
                    <li class="list-item"><strong>Primary Metric:</b> R-squared (RÂ²)</li>
                    <li class="list-item"><strong>Error Metric:</strong> Mean Squared Error (MSE)</li>
                    <li class="list-item"><strong>Validation:</strong> Cross-Validation</li>
                    <li class="list-item"><strong>Algorithm:</strong> RidgeCV + KFold</li>
                </ul>
                <div class="insight-highlight">
                    <p class="text-content mb-2"><strong>Evaluation Framework:</strong></p>
                    <ul class="text-content pl-4 list-disc">
                        <li><strong>R-squared:</strong> Measures the proportion of variance in life expectancy that is predictable from independent variables. Higher RÂ² (closer to 1) indicates better model fit and explanatory power.</li>
                        <li><strong>Mean Squared Error:</strong> Measures the average of the squares of errorsâ€”the average squared difference between estimated and actual values. Lower MSE indicates better model performance.</li>
                        <li><strong>Cross-Validation:</strong> Helps assess how the model generalizes to independent datasets, reducing overfitting risk and ensuring model reliability across different data subsets.</li>
                    </ul>
                </div>
            </div>
        </section>
        <section class="mb-16 fade-in">
            <h2 class="section-title">Background Project</h2>
            <div class="card">
                <p class="text-content mb-4">The project investigates life expectancy in the East Asia & Pacific region in the year 2020. There are significant differences, for example, Papua New Guinea (PNG) with 64.91 years compared to Japan (JPN) with 84.09 years.</p>
                <div class="country-comparison">
                    <div class="comparison-labels">
                        <div>Papua New Guinea</div>
                        <div>Japan</div>
                    </div>
                    <div class="comparison-bar"></div>
                    <div class="comparison-labels">
                        <div class="comparison-value">64.91 years</div>
                        <div class="comparison-value">84.09 years</div>
                    </div>
                    <div class="mt-4 text-xl font-bold text-primary">Difference: <span class="text-highlight">19.18 years</span></div>
                </div>
                <div class="insight-highlight">
                    <p class="text-content"><strong>Key Question:</strong> "What are the primary factors contributing to the significant difference in life expectancy between Papua New Guinea (PNG) and Japan (JPN), and what interventions could be implemented to improve health outcomes and increase life expectancy in Papua New Guinea (PNG)?"</p>
                </div>
            </div>
        </section>
        <section class="timeline-section fade-in">
            <h2 class="section-title text-white">Data Methodology</h2>
            <div class="timeline-wrapper">
                <!-- Central Rectangle Display Box -->
                <div class="timeline-display-box" id="central-display-box">
                    <!-- Content for each step will be dynamically shown here -->
                    <div class="timeline-content-item text-left text-justify" id="card-1-content">
                        <div class="step-number">1</div>
                        <h3 class="sub-heading">Phase 1: Problem Understanding</h3>
                        <p class="text-content mb-2 font-semibold">Defining the Right Questions</p>
                        <ul class="text-content mt-2 pl-4 list-disc">
                            <li>How does life expectancy vary across countries in East Asia & Pacific?</li>
                            <li>What are the key factors contributing to these variations?</li>
                        </ul>
                    </div>
                    <div class="timeline-content-item text-left text-justify" id="card-2-content">
                        <div class="step-number">2</div>
                        <h3 class="sub-heading">Phase 2: Data Preparation & Cleaning</h3>
                        <p class="text-content mb-2 font-semibold">Building the Foundation</p>
                        <ul class="text-content mt-2 pl-4 list-disc">
                            <li>Identify relevant variables influencing life expectancy.</li>
                            <li>Handle missing values and remove irrelevant data.</li>
                            <li>Standardize and normalize data for analysis.</li>
                        </ul>
                    </div>
                    <div class="timeline-content-item text-left text-justify" id="card-3-content">
                        <div class="step-number">3</div>
                        <h3 class="sub-heading">Phase 3: Exploratory Data Analysis</h3>
                        <p class="text-content mb-2 font-semibold">Discovering Hidden Patterns</p>
                        <ul class="text-content mt-2 pl-4 list-disc">
                            <li>Analyze data distributions and relationships.</li>
                            <li>Identify outliers, trends, and correlations.</li>
                            <li>Generate descriptive statistics and initial visualizations.</li>
                        </ul>
                    </div>
                    <div class="timeline-content-item text-left text-justify" id="card-4-content">
                        <div class="step-number">4</div>
                        <h3 class="sub-heading">Phase 4: Data Analysis & Modeling</h3>
                        <p class="text-content mb-2 font-semibold">Advanced Analytics & Pattern Recognition</p>
                        <ul class="text-content mt-2 pl-4 list-disc">
                            <li>Apply statistical and machine learning models:
                                <ul class="pl-6 list-disc">
                                    <li>Linear Regression: Direct relationships</li>
                                    <li>GAM: Non-linear patterns</li>
                                    <li>Random Forest: Key drivers & interactions</li>
                                </ul>
                            </li>
                            <li>Validate models and test hypotheses.</li>
                            <li>Generate statistical insights and predictions.</li>
                        </ul>
                    </div>
                    <div class="timeline-content-item text-left text-justify" id="card-5-content">
                        <div class="step-number">5</div>
                        <h3 class="sub-heading">Phase 5: Data Visualization & Insights</h3>
                        <p class="text-content mb-2 font-semibold">Making Insights Visible and Actionable</p>
                        <ul class="text-content mt-2 pl-4 list-disc">
                            <li>Transform analytical findings into intuitive visualizations.</li>
                            <li>Create clear, compelling charts and dashboards.</li>
                            <li>Summarize actionable recommendations.</li>
                        </ul>
                    </div>
                </div>
                <div class="timeline-line"></div>
                <div class="timeline-steps">
                    <!-- Step 1: Problem Understanding -->
                    <div class="timeline-step">
                        <div class="timeline-dot dot-1" data-target-content="card-1-content"></div>
                        <span class="timeline-label">Phase 1</span>
                    </div>
                    <!-- Step 2: Data Preparation & Cleaning -->
                    <div class="timeline-step">
                        <div class="timeline-dot dot-2" data-target-content="card-2-content"></div>
                        <span class="timeline-label">Phase 2</span>
                    </div>
                    <!-- Step 3: Exploratory Data Analysis (EDA) -->
                    <div class="timeline-step">
                        <div class="timeline-dot dot-3" data-target-content="card-3-content"></div>
                        <span class="timeline-label">Phase 3</span>
                    </div>
                    <!-- Step 4: Data Analysis & Visualization -->
                    <div class="timeline-step">
                        <div class="timeline-dot dot-4" data-target-content="card-4-content"></div>
                        <span class="timeline-label">Phase 4</span>
                    </div>
                    <!-- Step 5: Insight & Recommendation -->
                    <div class="timeline-step">
                        <div class="timeline-dot dot-5" data-target-content="card-5-content"></div>
                        <span class="timeline-label">Phase 5</span>
                    </div>
                </div>
            </div>
        </section>
        <section class="mb-16 fade-in">
            <h2 class="section-title">Analysis Results and Insights</h2>
            <div class="card">
                <!-- Start of integrated content from the dashboard HTML -->
                <div class="baseline-info">
                    <h2>Papua New Guinea - 2020 Baseline</h2>
                    <div class="value">64.91 Years</div>
                    <p>Current Life Expectancy</p>
                </div>

                <div class="correlation-grid">
                    <div class="card correlation-positive">
                        <h2>ðŸ”º Top Positive Correlations</h2>
                        <div class="correlation-item">
                            <div>Life Expectancy & Access to Electricity</div>
                            <div class="correlation-value">1.00</div>
                        </div>
                        <div class="correlation-item">
                            <div>GDP Per Capita & Health Expenditure</div>
                            <div class="correlation-value">1.00</div>
                        </div>
                        <div class="correlation-item">
                            <div>Mortality Infant & Population Growth</div>
                            <div class="correlation-value">1.00</div>
                        </div>
                    </div>

                    <div class="card correlation-negative">
                        <h2>ðŸ”» Top Negative Correlations</h2>
                        <div class="correlation-item">
                            <div>Mortality Infant & Access to Electricity</div>
                            <div class="correlation-value">-1.00</div>
                        </div>
                        <div class="correlation-item">
                            <div>Life Expectancy & Mortality Infant</div>
                            <div class="correlation-value">-1.00</div>
                        </div>
                        <div class="correlation-item">
                            <div>Access to Electricity & Population Growth</div>
                            <div class="correlation-value">-1.00</div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="card feature-importance">
                        <h2>ðŸ“Š Feature Importance (Model Coefficients)</h2>
                        <div class="feature-item">
                            <span>Population Growth Rate</span>
                            <span class="coefficient negative">-1.8668</span>
                        </div>
                        <div class="feature-item">
                            <span>Access to Electricity</span>
                            <span class="coefficient positive">+1.7336</span>
                        </div>
                        <div class="feature-item">
                            <span>Mortality Infant</span>
                            <span class="coefficient negative">-1.6439</span>
                        </div>
                        <div class="feature-item">
                            <span>School Enrollment Combined</span>
                            <span class="coefficient positive">+1.5534</span>
                        </div>
                        <div class="feature-item">
                            <span>Health Expenditure Per Capita</span>
                            <span class="coefficient positive">+1.4518</span>
                        </div>
                    </div>

                    <div class="card">
                        <h2>ðŸŽ¯ Model Performance</h2>
                        <p><strong>Best Alpha (Regularization):</strong> 0.0010</p>
                        <p><strong>Test Set R-squared:</strong> -70.56</p>
                        <p><strong>Mean Squared Error:</strong> 2.08</p>
                        <br>
                        <p><em>Note: Negative R-squared indicates the model performs worse than a simple mean prediction, suggesting complex non-linear relationships in the data.</em></p>
                    </div>

                    <div class="card">
                        <h2>ðŸ”® Future Projections (2020-2030)</h2>
                        <p><strong>Scenario:</strong> Moderate GDP Growth (3%)</p>
                        <p><strong>Projection Period:</strong> 10 years</p>
                        <p><strong>Expected Improvement:</strong> ~30 years increase</p>
                        <p><em>From 65 years (2020) to 95+ years (2030)</em></p>
                    </div>

                    <div class="card">
                        <h2>ðŸŽ² What-If Analysis Example</h2>
                        <p><strong>Scenario:</strong> 10% increase in GDP per capita</p>
                        <p><strong>Current GDP:</strong> $2,757.22</p>
                        <p><strong>Modified GDP:</strong> $3,032.94</p>
                        <p><strong>Impact:</strong> <span class="positive">+6.68 years</span></p>
                        <p><strong>New Life Expectancy:</strong> 71.59 years</p>
                    </div>
                </div>

                <div class="projection-section">
                    <h2>ðŸ“ˆ Country Comparison Analysis</h2>
                    <div class="comparison-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Country</th>
                                    <th>Life Expectancy Gap</th>
                                    <th>GDP Gap %</th>
                                    <th>Health Expenditure Gap %</th>
                                    <th>Education Gap</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Papua New Guinea</strong></td>
                                    <td class="performance-gap">-21.86 years</td>
                                    <td class="performance-gap">-98.49%</td>
                                    <td class="performance-gap">-99.28%</td>
                                    <td class="performance-gap">-18.66%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="scenario-result">
                        <p><strong>Key Insight:</strong> Papua New Guinea shows significant performance gaps compared to top performers like Japan, particularly in economic indicators (GDP -98.49%) and health expenditure (-99.28%), which correlate strongly with the 21.86-year life expectancy gap.</p>
                    </div>
                </div>

                <div class="card">
                    <h2>ðŸ’¡ Key Findings Summary</h2>
                    <ul style="line-height: 1.8; color: #333;"> <!-- Added color to ensure readability against light card background -->
                        <li><strong>Strong Correlations:</strong> Access to electricity shows perfect correlation (1.00) with life expectancy</li>
                        <li><strong>Critical Factors:</b> Population growth rate has the highest negative impact (-1.87 coefficient)</li>
                        <li><strong>Investment Priorities:</strong> Electricity access, education, and healthcare show strongest positive impacts</li>
                        <li><strong>Economic Impact:</strong> 10% GDP increase could add 6.68 years to life expectancy</li>
                        <li><strong>Development Gap:</strong> PNG lags significantly behind developed nations across all key indicators</li>
                    </ul>
                </div>
                <!-- End of integrated content from the dashboard HTML -->
            </div>
        </section>
        <section class="mb-16 text-center fade-in">
            <h2 class="section-title">Explore the Interactive Dashboard</h2>
            <p class="text-content mb-8 max-w-2xl mx-auto">Dive deeper into the data and visualizations on our interactive dashboard to explore the factors influencing life expectancy across the East Asia & Pacific region.</p>
            <div class="dashboard-button-group">
                <div class="dashboard-button">
                    <a href="https://life-expectancy-project.streamlit.app/" target="_blank" class="button">
                        <i class="fas fa-external-link-alt"></i> Go to Streamlit Dashboard
                    </a>
                </div>
                <div class="dashboard-button">
                    <a href="https://public.tableau.com/app/profile/kristianto.kris1567/viz/DEEPTABLEAU_17367048877570/Dashboard1" target="_blank" class="button">
                        <i class="fas fa-external-link-alt"></i> Go to Tableau Dashboard
                    </a>
                </div>
            </div>
        </section>
    </main>
    <footer class="footer">
        <div class="container">
            <h3 class="text-2xl font-bold mb-4">Deep Life Expectancy Project</h3>
            <p class="max-w-2xl mx-auto mb-6">A comprehensive analysis of factors influencing longevity in the East Asia & Pacific region with actionable insights for policymakers and healthcare professionals.</p>
            <p>&copy; 2025 Deep Life Expectancy Project. All rights reserved.</p>
            <div class="mt-6">
                <a href="https://github.com/Kristianto06" target="_blank" class="inline-block mx-2 text-white hover:text-gray-200"><i class="fab fa-github fa-lg"></i></a>
                <a href="https://www.linkedin.com/in/kristianto06/" target="_blank" class="inline-block mx-2 text-white hover:text-gray-200"><i class="fab fa-linkedin fa-lg"></i></a>
            </div>
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const dots = document.querySelectorAll('.timeline-dot');
            const contentItems = document.querySelectorAll('.timeline-content-item'); 
            // Function to show specific content item
            function showContentItem(targetContentId) {
                // Hide all content items
                contentItems.forEach(item => {
                    item.classList.remove('active');
                });
                // Remove active status from all dots
                dots.forEach(dot => {
                    dot.classList.remove('active-dot');
                });
                const activeContent = document.getElementById(targetContentId);
                // Find the dot matching the targetContentId
                const activeDot = document.querySelector(`.timeline-dot[data-target-content="${targetContentId}"]`);
                if (activeContent && activeDot) {
                    activeContent.classList.add('active');
                    activeDot.classList.add('active-dot');
                }
            }
            // Add click listeners to dots
            dots.forEach(dot => {
                dot.addEventListener('click', function() {
                    const targetContentId = this.dataset.targetContent;
                    showContentItem(targetContentId);
                });
            });
            // Show first content item by default
            if (contentItems.length > 0) {
                showContentItem('card-1-content');
            }
            // Back to top functionality
            const backToTopBtn = document.querySelector('.back-to-top');
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTopBtn.classList.add('visible');
                } else {
                    backToTopBtn.classList.remove('visible');
                }
            });
            backToTopBtn.addEventListener('click', function(e) {
                e.preventDefault();
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            // Scroll animations
            const fadeElements = document.querySelectorAll('.fade-in');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('appear');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });
            fadeElements.forEach(element => {
                observer.observe(element);
            });
            
            // Animate feature importance bars
            setTimeout(() => {
                document.querySelectorAll('.feature-fill').forEach(bar => {
                    bar.style.width = '0';
                    setTimeout(() => {
                        bar.style.width = bar.getAttribute('style').split(';')[0].split(':')[1];
                    }, 100);
                });
            }, 500);
        });
    </script>
</body>
</html>
